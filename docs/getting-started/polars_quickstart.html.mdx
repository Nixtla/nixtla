---
description: >-
  TimeGPT is a production ready, generative pretrained transformer for time
  series. It's capable of accurately predicting various domains such as retail,
  electricity, finance, and IoT with just a few lines of code ðŸš€.
output-file: polars_quickstart.html
title: TimeGPT Quickstart (Polars)
---


[![](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/Nixtla/nixtla/blob/main/nbs/docs/getting-started/21_polars_quickstart.ipynb)

## Step 1: Create a TimeGPT account and generate your API key

-   Go to [dashboard.nixtla.io](https://dashboard.nixtla.io/)
-   Sign in with Google, GitHub or your email
-   Create your API key by going to â€˜API Keysâ€™ in the menu and clicking
    on â€˜Create New API Keyâ€™
-   Your new key will appear. Copy the API key using the button on the
    right.

<img src="https://github.com/Nixtla/nixtla/blob/main/nbs/img/dashboard.png?raw=true" alt="Dashboard for TimeGPT API keys. Keys is in the middle, with trash and copy buttons on the right." width="700" />

## Step 2: Install Nixtla

In your favorite Python development environment:

Install `nixtla` with `pip`:

```shell
pip install nixtla
```

## Step 3: Import the Nixtla TimeGPT client

```python
from nixtla import NixtlaClient
```

You can instantiate the
[`NixtlaClient`](https://Nixtla.github.io/nixtla/src/nixtla_client.html#nixtlaclient)
class providing your authentication API key.

```python
nixtla_client = NixtlaClient(
    api_key = 'my_api_key_provided_by_nixtla'
)
```

Check your API key status with the `validate_api_key` method.

```python
nixtla_client.validate_api_key()
```

``` text
True
```

**This will get you started, but for more secure usage, see [Setting Up
your API
Key](https://docs.nixtla.io/docs/getting-started-setting_up_your_api_key).**

## Step 4: Start making forecasts!

Now you can start making forecasts! Letâ€™s import an example using the
classic `AirPassengers` dataset. This dataset contains the monthly
number of airline passengers in Australia between 1949 and 1960. First,
load the dataset and plot it:

```python
import polars as pl
```


```python
df = pl.read_csv(
    'https://raw.githubusercontent.com/Nixtla/transfer-learning-time-series/main/datasets/air_passengers.csv',
    try_parse_dates=True,
)
df.head()
```

| timestamp  | value |
|------------|-------|
| date       | i64   |
| 1949-01-01 | 112   |
| 1949-02-01 | 118   |
| 1949-03-01 | 132   |
| 1949-04-01 | 129   |
| 1949-05-01 | 121   |

```python
nixtla_client.plot(df, time_col='timestamp', target_col='value')
```

![](/nixtla/docs/getting-started/21_polars_quickstart_files/figure-markdown_strict/cell-8-output-1.png)

> ðŸ“˜ Data Requirements
>
> -   Make sure the target variable column does not have missing or
>     non-numeric values.
> -   Do not include gaps/jumps in the timestamps (for the given
>     frequency) between the first and late timestamps. The forecast
>     function will not impute missing dates.
> -   The time column should be of type
>     [Date](https://docs.pola.rs/api/python/stable/reference/api/polars.datatypes.Date.html)
>     or
>     [Datetime](https://docs.pola.rs/api/python/stable/reference/api/polars.datatypes.Datetime.html).
>
> For further details go to [Data
> Requeriments](https://docs.nixtla.io/docs/getting-started-data_requirements).

### Forecast a longer horizon into the future

Next, forecast the next 12 months using the SDK `forecast` method. Set
the following parameters:

-   `df`: A pandas DataFrame containing the time series data.
-   `h`: Horizons is the number of steps ahead to forecast.
-   `freq`: The polars offset alias, see the possible values
    [here](https://docs.pola.rs/api/python/stable/reference/expressions/api/polars.Expr.dt.offset_by.html).
-   `time_col`: The column that identifies the datestamp.
-   `target_col`: The variable to forecast.

```python
timegpt_fcst_df = nixtla_client.forecast(df=df, h=12, freq='1mo', time_col='timestamp', target_col='value')
timegpt_fcst_df.head()
```

``` text
INFO:nixtla.nixtla_client:Validating inputs...
INFO:nixtla.nixtla_client:Querying model metadata...
INFO:nixtla.nixtla_client:Preprocessing dataframes...
INFO:nixtla.nixtla_client:Restricting input...
INFO:nixtla.nixtla_client:Calling Forecast Endpoint...
```

| timestamp  | TimeGPT    |
|------------|------------|
| date       | f64        |
| 1961-01-01 | 437.837921 |
| 1961-02-01 | 426.062714 |
| 1961-03-01 | 463.116547 |
| 1961-04-01 | 478.244507 |
| 1961-05-01 | 505.646484 |

```python
nixtla_client.plot(df, timegpt_fcst_df, time_col='timestamp', target_col='value')
```

![](/nixtla/docs/getting-started/21_polars_quickstart_files/figure-markdown_strict/cell-10-output-1.png)

You can also produce longer forecasts by increasing the horizon
parameter and selecting the `timegpt-1-long-horizon` model. Use this
model if you want to predict more than one seasonal period of your data.

For example, letâ€™s forecast the next 36 months:

```python
timegpt_fcst_df = nixtla_client.forecast(df=df, h=36, time_col='timestamp', target_col='value', freq='1mo', model='timegpt-1-long-horizon')
timegpt_fcst_df.head()
```

``` text
INFO:nixtla.nixtla_client:Validating inputs...
INFO:nixtla.nixtla_client:Querying model metadata...
WARNING:nixtla.nixtla_client:The specified horizon "h" exceeds the model horizon. This may lead to less accurate forecasts. Please consider using a smaller horizon.
INFO:nixtla.nixtla_client:Preprocessing dataframes...
INFO:nixtla.nixtla_client:Restricting input...
INFO:nixtla.nixtla_client:Calling Forecast Endpoint...
```

| timestamp  | TimeGPT    |
|------------|------------|
| date       | f64        |
| 1961-01-01 | 436.843414 |
| 1961-02-01 | 419.351532 |
| 1961-03-01 | 458.943146 |
| 1961-04-01 | 477.876068 |
| 1961-05-01 | 505.656921 |

```python
nixtla_client.plot(df, timegpt_fcst_df, time_col='timestamp', target_col='value')
```

![](/nixtla/docs/getting-started/21_polars_quickstart_files/figure-markdown_strict/cell-12-output-1.png)

### Produce a shorter forecast

You can also produce a shorter forecast. For this, we recommend using
the default model, `timegpt-1`.

```python
timegpt_fcst_df = nixtla_client.forecast(df=df, h=6, time_col='timestamp', target_col='value', freq='1mo')
nixtla_client.plot(df, timegpt_fcst_df, time_col='timestamp', target_col='value')
```

``` text
INFO:nixtla.nixtla_client:Validating inputs...
INFO:nixtla.nixtla_client:Preprocessing dataframes...
INFO:nixtla.nixtla_client:Restricting input...
INFO:nixtla.nixtla_client:Calling Forecast Endpoint...
```

![](/nixtla/docs/getting-started/21_polars_quickstart_files/figure-markdown_strict/cell-13-output-2.png)

