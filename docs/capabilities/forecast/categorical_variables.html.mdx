---
output-file: categorical_variables.html
title: Add categorical variables
---


[![](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/Nixtla/nixtla/blob/main/nbs/docs/capabilities/forecast/04_categorical_variables.ipynb)

```python
import pandas as pd
import datetime
from nixtla import NixtlaClient
from nixtla.date_features import SpecialDates
```


```python
nixtla_client = NixtlaClient(
    # defaults to os.environ.get("NIXTLA_API_KEY")
    api_key = 'my_api_key_provided_by_nixtla'
)
```


```python
# Read the data
df = pd.read_csv("https://raw.githubusercontent.com/Nixtla/transfer-learning-time-series/main/datasets/air_passengers.csv")

# Create categorical variables to label Christmas and summer vacations
categories_dates = SpecialDates(
    special_dates={
        'christmas_vacations': [datetime.date(year, 12, 1) for year in range(1949, 1960 + 1)],
        'summer_vacations': [datetime.date(year, month, 1) for year in range(1949, 1960 + 1) for month in (6, 7)]
    }
)

dates = pd.date_range('1949-01-01', '1960-12-01', freq='MS')

categories_df = categories_dates(dates).reset_index(drop=True)

# Merge with the dataset
cat_df = pd.concat([df, categories_df], axis=1)

# Forecast
forecast_df = nixtla_client.forecast(
    df=cat_df, 
    h=24,
    target_col='value',
    time_col='timestamp'
)
```

``` text
INFO:nixtla.nixtla_client:Validating inputs...
INFO:nixtla.nixtla_client:Preprocessing dataframes...
INFO:nixtla.nixtla_client:Inferred freq: MS
WARNING:nixtla.nixtla_client:You did not provide X_df. Exogenous variables in df are ignored. To surpress this warning, please add X_df with exogenous variables: christmas_vacations, summer_vacations
WARNING:nixtla.nixtla_client:The specified horizon "h" exceeds the model horizon. This may lead to less accurate forecasts. Please consider using a smaller horizon.
INFO:nixtla.nixtla_client:Restricting input...
INFO:nixtla.nixtla_client:Calling Forecast Endpoint...
```

For a detailed guide on using categorical variables for forecasting,
read our in-depth tutorial on [Categorical
variables](https://docs.nixtla.io/docs/tutorials-categorical_variables).

